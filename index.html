<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Hola mundo</h1>
    <img id="profilePic" alt="Profile pic" />
</body>
<script>
  async function loadProfilePic() {
    try {
      const response = await fetch('https://chl-a77059e8-b9a6-4ed3-b86c-1ccf81be0ff3-imagen-importante.softwareseguro.com.ar/profile-pic', {
        method: 'GET',
        credentials: 'include', // <---- Envía cookies de sesión
        headers: {
          'Accept': 'image/*'
        }
      });

      if (!response.ok) throw new Error('Error al obtener la imagen: ' + response.status);

      const blob = await response.blob();
      const url = URL.createObjectURL(blob);
      document.getElementById('profilePic').src = url;
    } catch (error) {
      console.error(error);
    }
  }

  loadProfilePic();
</script>
</html>